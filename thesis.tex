%% The ubcdiss class provides several options:
%%   10pt, 11pt, 12pt
%%       set default font size
%%   oneside, twoside
%%       whether to format for single-sided or double-sided printing
%%   singlespacing, onehalfspacing, doublespacing
%%       set default inter-line text spacing; the ubcdiss class
%%       provides \textspacing to revert to this configured spacing

\documentclass[oneside,onehalfspacing,11pt]{ubcdiss}

% https://tex.stackexchange.com/a/637286/202877
\usepackage[no-math]{fontspec}
\usepackage{mlmodern}
\usepackage[T1]{fontenc}
\usepackage[width=6in, height=8.5in]{geometry}
\usepackage[numbers]{natbib}
\usepackage[hang, sc, skip=1ex]{caption}
\usepackage{xcolor, imakeidx}
\usepackage{amsmath, amssymb, amsthm}
\usepackage[pagebackref,bookmarksnumbered,linktocpage,colorlinks,pdfusetitle]{hyperref}
\usepackage{style}

% backreferences styled as ↪ page(s) x, y, and z
\renewcommand{\backrefalt}[4]{\textcolor{gray}{\ifcase #1\or $\hookrightarrow$~page~#2\else $\hookrightarrow$~pages~#2\fi}}

% links must be in "dark blue"
% https://www.grad.ubc.ca/current-students/dissertation-thesis-preparation/fonts-print
\definecolor{darkblue}{HTML}{0000EE}
\hypersetup{allcolors=darkblue}

% style URLs (incl. DOIs) in sans serif
\urlstyle{sf}
\newcommand{\doi}[1]{doi:\href{https://doi.org/#1}{\textsf{#1}}}

% use ∎ as QED symbol
\renewcommand\qedsymbol{\codefont ∎}

% set caption margins to 2× indent
\setlength{\captionmargin}{2\parindent}

\title{Sized Dependent Types via Extensional Type Theory}
\makeindex[intoc]

\author{Jonathan {\footnotesize H.W. \relax}Chan}
\degreetitle{Master of Science}
\institution{The University of British Columbia}
\campus{Vancouver}
\faculty{The Faculty of Graduate and Postdoctoral Studies}
\department{Computer Science}
\submissionmonth{July}
\submissionyear{2022}

\examiningcommittee{William J. Bowman, Assistant Professor, Computer Science, UBC}{Supervisor}
\examiningcommittee{Alexander J. Summers, Associate Professor, Computer Science, UBC}{Supervisory Committee Member}
%\examiningcommittee{Ronald Garcia, Associate Professor, Computer Science, UBC}{Supervisory Committee Member}

\begin{document}
\maketitle
\makecommitteepage
\textspacing

\include{chapters/abstract}
\include{chapters/laysummary}
\include{chapters/preface}

% Page links in ToC, LoT, LoF must be black
\hypersetup{allcolors=black}
\tableofcontents
\listoftables
\listoffigures
\hypersetup{allcolors=darkblue}

\include{chapters/acknowledgements}
\include{chapters/dedication}
\include{chapters/typography.tex}

\mainmatter
\include{chapters/introduction.tex}
\include{chapters/sized.tex}
\include{chapters/model.tex}
\include{chapters/proofs.tex}
\include{chapters/discussion.tex}

\bibliographystyle{plainnat}
\begin{singlespace}
\raggedright
\bibliography{biblio}
\end{singlespace}

\appendix
\include{chapters/appendix}

\backmatter
\printindex
\end{document}
